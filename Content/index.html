<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前端必须了解的网络协议 | Lucky blog</title>
    <meta name="description" content="首先是一幅四层/七层模型图
OSI七层网络模型|TCP/IP四层概念模型|对应网络协议
:---: | :---: | :--
应用层（Application） |应用层 |==HTTP==、TFTP、==FTP==、NFS、WAIS、SMTP
表示层（Presentation）| |Telnet、Rlogin、SNMP、Gopher
会话层（session）| | ==SN ...">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/luckyblog/assets/css/0.styles.d7503b83.css" as="style"><link rel="preload" href="/luckyblog/assets/js/app.c7041d7f.js" as="script"><link rel="preload" href="/luckyblog/assets/js/6.5a910f04.js" as="script"><link rel="preload" href="/luckyblog/assets/js/16.9ba42078.js" as="script"><link rel="preload" href="/luckyblog/assets/js/17.7631d151.js" as="script"><link rel="prefetch" href="/luckyblog/assets/js/1.7bcfcbb4.js"><link rel="prefetch" href="/luckyblog/assets/js/10.d1526962.js"><link rel="prefetch" href="/luckyblog/assets/js/11.025541a9.js"><link rel="prefetch" href="/luckyblog/assets/js/12.fe11bc2b.js"><link rel="prefetch" href="/luckyblog/assets/js/13.42793d09.js"><link rel="prefetch" href="/luckyblog/assets/js/14.23821559.js"><link rel="prefetch" href="/luckyblog/assets/js/15.c676a01a.js"><link rel="prefetch" href="/luckyblog/assets/js/18.06b3089e.js"><link rel="prefetch" href="/luckyblog/assets/js/19.7e0fefee.js"><link rel="prefetch" href="/luckyblog/assets/js/20.e39f48c4.js"><link rel="prefetch" href="/luckyblog/assets/js/21.2c2fc1ee.js"><link rel="prefetch" href="/luckyblog/assets/js/22.a106934f.js"><link rel="prefetch" href="/luckyblog/assets/js/23.30c57d58.js"><link rel="prefetch" href="/luckyblog/assets/js/24.275b2f5b.js"><link rel="prefetch" href="/luckyblog/assets/js/25.bfca8e98.js"><link rel="prefetch" href="/luckyblog/assets/js/26.680f13a8.js"><link rel="prefetch" href="/luckyblog/assets/js/27.f35d5c43.js"><link rel="prefetch" href="/luckyblog/assets/js/28.4fc5ec10.js"><link rel="prefetch" href="/luckyblog/assets/js/29.4c7cc9d8.js"><link rel="prefetch" href="/luckyblog/assets/js/4.60165dba.js"><link rel="prefetch" href="/luckyblog/assets/js/5.69cece2b.js"><link rel="prefetch" href="/luckyblog/assets/js/7.7c2d0f68.js"><link rel="prefetch" href="/luckyblog/assets/js/8.d99986dd.js"><link rel="prefetch" href="/luckyblog/assets/js/9.a789b98e.js"><link rel="prefetch" href="/luckyblog/assets/js/vuejs-paginate.caee409a.js">
    <link rel="stylesheet" href="/luckyblog/assets/css/0.styles.d7503b83.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/luckyblog/" class="nav-link home-link">Lucky blog </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/luckyblog/Content/" class="nav-link router-link-exact-active router-link-active">自创内容</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/luckyblog/" class="nav-link mobile-home-link">Lucky blog </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/luckyblog/Content/" class="nav-link router-link-exact-active router-link-active">自创内容</a></li> <li class="mobile-nav-item"><!----></li></ul></div></div></div> <div class="content-wrapper"><div><div class="content__default"><h1 id="前端必须了解的网络协议"><a href="#前端必须了解的网络协议" class="header-anchor">#</a> 前端必须了解的网络协议</h1> <h3 id="首先是一幅四层-七层模型图"><a href="#首先是一幅四层-七层模型图" class="header-anchor">#</a> 首先是一幅四层/七层模型图</h3> <table><thead><tr><th style="text-align:center;">OSI七层网络模型</th> <th style="text-align:center;">TCP/IP四层概念模型</th> <th style="text-align:left;">对应网络协议</th></tr></thead> <tbody><tr><td style="text-align:center;">应用层（Application）</td> <td style="text-align:center;">应用层</td> <td style="text-align:left;">==HTTP==、TFTP、==FTP==、NFS、WAIS、SMTP</td></tr> <tr><td style="text-align:center;">表示层（Presentation）</td> <td style="text-align:center;"></td> <td style="text-align:left;">Telnet、Rlogin、SNMP、Gopher</td></tr> <tr><td style="text-align:center;">会话层（session）</td> <td style="text-align:center;"></td> <td style="text-align:left;">==SNMP==、==DNS==</td></tr> <tr><td style="text-align:center;">传输层（Transport）</td> <td style="text-align:center;">传输层</td> <td style="text-align:left;">TCP、UDP</td></tr> <tr><td style="text-align:center;">网络层（Network）</td> <td style="text-align:center;">网络层</td> <td style="text-align:left;">IP、ICMP、ARP、RARP、AKP、UUCP</td></tr> <tr><td style="text-align:center;">数据链路层（Data link）</td> <td style="text-align:center;">数据链路层</td> <td style="text-align:left;">FDDI、Ethernet、Arpanet、PDN、SLIP、PPP</td></tr> <tr><td style="text-align:center;">物理层（Physical）</td> <td style="text-align:center;"></td> <td style="text-align:left;">IEEE 802.1A、IEEE 802.2到IEEE 802.11</td></tr></tbody></table> <blockquote><p>要想深入的了解透四层、七层模型图需要一定的时间，我们前端人员其实只要重点了解一下应用层中的HTTP、FTP，以及传输层当中的TCP和网络层中的ip部分。</p></blockquote> <hr> <h3 id="http、websocket等协议与tcp、ip协议的关系"><a href="#http、websocket等协议与tcp、ip协议的关系" class="header-anchor">#</a> http、websocket等协议与tcp、ip协议的关系</h3> <p><img src="https://img-blog.csdnimg.cn/20190612101906366.png" alt="在这里插入图片描述"></p> <blockquote><p>TCP/IP是传输层协议，是互联网相关的各类协议的统称，主要解决数据如何在网络中传输；而HTTP是应用层协议，主要解决如何包装数据。
Socket是对TCP/IP协议的封装，Socket本身并不是协议，而是一个调用接口（API），通过Socket，我们才能使用TCP/IP协议。
<strong>==可以把ip层想象成公路，tcp、udp是火车，而http，https等是货物==</strong>
==<strong>http连接</strong>==：http连接就是所谓的短连接，即客户端向服务端发送一次请求，服务器端响应后连接即会断掉；
==<strong>socket连接</strong>==：socket连接就是所谓的长连接，理论上客户端和服务器端一旦建立起来连接将不会主动断掉；但是由于各种环境因素可能会连接断开。比如：服务器或客户端主机down了，网络故障，或者两者之间长时间没有数据传输，网络防火墙可能会断开该连接以释放网络资源。所以当一个socket连接中没有数据的传输，那么为了维持连接需要发送心跳消息~~具体消息格式是开发者自己定义的。</p></blockquote> <hr> <h4 id="http和https的区别"><a href="#http和https的区别" class="header-anchor">#</a> http和https的区别</h4> <h6 id="http：是互联网上应用最广泛的一种网络协议，是一个客户端和服务器端请求和应答的标准（tcp），用于从www服务器传输超文本到本地浏览器的传输协议，它可以是浏览器更加高效，使网络传输减少。"><a href="#http：是互联网上应用最广泛的一种网络协议，是一个客户端和服务器端请求和应答的标准（tcp），用于从www服务器传输超文本到本地浏览器的传输协议，它可以是浏览器更加高效，使网络传输减少。" class="header-anchor">#</a> http：是互联网上应用最广泛的一种网络协议，是一个客户端和服务器端请求和应答的标准（tcp），用于从www服务器传输超文本到本地浏览器的传输协议，它可以是浏览器更加高效，使网络传输减少。</h6> <h6 id="https：是以安全为目标的http通道，简单讲是http的安全办。即http下加入ssl层，https的安全基础是ssl，因此加密的详细内容就需要ssl。"><a href="#https：是以安全为目标的http通道，简单讲是http的安全办。即http下加入ssl层，https的安全基础是ssl，因此加密的详细内容就需要ssl。" class="header-anchor">#</a> https：是以安全为目标的http通道，简单讲是http的安全办。即http下加入ssl层，https的安全基础是ssl，因此加密的详细内容就需要ssl。</h6> <h6 id="https的作用主要可以分为两种：一种是建立一个信息安全通道，来保证数据传输的安全；另一种就是确认网站的真实性；"><a href="#https的作用主要可以分为两种：一种是建立一个信息安全通道，来保证数据传输的安全；另一种就是确认网站的真实性；" class="header-anchor">#</a> https的作用主要可以分为两种：一种是建立一个信息安全通道，来保证数据传输的安全；另一种就是确认网站的真实性；</h6> <h6 id="两者的主要区别"><a href="#两者的主要区别" class="header-anchor">#</a> ==两者的主要区别==</h6> <ol><li>https协议需要ca申请证书，一般免费证书较少，因而需要一定费用；</li> <li>http是超文本传输协议，信息是明文传输，https则是具有安全性的ssl加密传输协议;</li> <li>http和https使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443；</li> <li>http的连接很简单，是无状态的；https协议是由ssl+http协议构建的可进行加密传输，身份认证的网络协议，比http协议安全。</li></ol> <h6 id="http的特点"><a href="#http的特点" class="header-anchor">#</a> ==http的特点==</h6> <ol><li>支持客户、服务器模式（c/s模式）</li> <li>简单快速：客户向服务器请求服务时，秩序传送请求方法和路径。请求方法常用的有GET、HEAD、POST。没中方法规定了客户与服务器联系的类型不同。由于http协议简单，是的http服务器的程序规模小，因为通信速度很快。</li> <li>灵活：http允许传输任意类型的数据对象。正在传输的类型有content-type加以标记。</li> <li>无连接：含义是限制每次连接只处理一个请求。服务器处理完客户的请求，并收到客户的应答后，即断开连接。采用这种方式可以节省传输时间。</li> <li>无状态：无状态是指协议对于事务处理没有记忆能力。缺少状态意味着如果后续处理需要前面的信息，则它必须重传，这样可能导致每次连接传送的数据量增大。另一方面，在服务器不需要先前信心时它的应答就比较快。</li></ol> <h6 id="http工作流程"><a href="#http工作流程" class="header-anchor">#</a> ==http工作流程==</h6> <ol><li>建立tcp/ip连接，客户端与服务器通过socket三次握手进行连接</li> <li>客户端向服务端发起HTTP请求（例：POST/login.html http/1.1）</li> <li>客户端发送一空白行，表示客户端请求完毕</li> <li>服务器做出应答，表示对于客户端请求的应答，例如：HTTP、1.1 200 OK</li> <li>服务器向客户端发送应答头信息</li> <li>服务器向客户端发送应答头信息后，也会发送一空白行，表示应答头信息发送完毕，接着就以content-type要求的数据格式发送数据给客户端</li> <li>服务端关闭tcp连接，如果服务器或者客户端增加connection：keep-alive就表示客户端与服务端继续保存连接，在下次请求时可以继续使用这次的连接</li></ol> <h6 id="https的特点"><a href="#https的特点" class="header-anchor">#</a> ==https的特点==</h6> <p><strong>优点</strong></p> <ol><li>认证用户和服务器，确保数据发送到正确的客户机和服务器；</li> <li>安全性 可防止数据在传输过程中不被窃取，改变，确保数据完整性；同事也一定程度上保护了服务端，使用恶意攻击和伪装数据的成本大大提高。</li></ol> <p><strong>缺点</strong></p> <ol><li>https握手阶段比较费时，会使页面加载时间延长50%，增加10%-20%的耗电；</li> <li>缓存不如http高效，会增加数据开销；</li> <li>SSL证书需要钱，功能越强大费用越高；</li> <li>SSL证书需要绑定ip，不能在同一个ip上绑定多个域名，ipv4资源支持不了这种消耗</li></ol> <h6 id="https的工作流程"><a href="#https的工作流程" class="header-anchor">#</a> ==https的工作流程==</h6> <ol><li>客户使用https的url访问web服务器，要求与web服务器建立SSL连接；</li> <li>web服务器收到客户端请求后，会将网站的证书信息（证书中包含了公钥）传送一份给客户端；</li> <li>客户端的浏览器与web服务器开始协商SSL连接的安全等级，也就是信息加密的等级；</li> <li>客户端浏览器根据双方同意的安全等级，建立会话密钥，然后利用网站的公钥将会话密钥加密，并传送给网站</li> <li>web服务器利用自己的私钥解密出会话密钥</li> <li>web服务器利用会话密钥加密与客户端之间的通信</li></ol> <hr> <h3 id="http与websocket"><a href="#http与websocket" class="header-anchor">#</a> http与websocket</h3> <p>WebSocket是HTML5规范提出的一种协议；目前除了完犊子的IE浏览器，其他浏览器都基本支持。他是一种协议，万变不离其宗，也是基于TCP协议的；和HTTP协议是并存的两种协议。
WebSocket连接的过程是：</p> <ol><li>客户端发起http请求，经过3次握手后，建立起TCP连接；http请求里存放WebSocket支持的版本号等信息，如：Upgrade、Connection、WebSocket-Version等；</li> <li>服务器收到客户端的握手请求后，同样采用HTTP协议回馈数据；</li> <li>客户端收到连接成功的消息后，开始借助于TCP传输信道进行全双工通信。</li></ol> <p><strong>==相同点==</strong>
都是一样基于TCP的，都是可靠性传输协议
<strong>==区别==</strong></p> <ol><li>Websocket是一个持久化的协议，http不支持（长连接，循环连接的不算）；</li> <li>Websocket支持双向通讯（可以让服务器主动向客户端推送消息，客户端也可以主动向服务器发送信息）；http只能由客户端发起，一个request对应一个response；</li></ol> <hr> <h3 id="http协议的请求头"><a href="#http协议的请求头" class="header-anchor">#</a> http协议的请求头</h3> <p>==<strong>Cache-control</strong>== 缓存的开关（静态资源 自动缓存 认为干涉无效；From disk cache表示来自于缓存）
取值：private（被私有缓存缓存）、public（可以被任何缓存所缓存）、max-age=xxx（有时间限制，一般单位为秒）、no-cache（不缓存过期的资源，缓存会向服务器进行有效处理确认之后处理资源）、no-store（不缓存）
==<strong>资源标示对比</strong>==
Etag与if-None-Mach（最高级）：后端传递的if-None-Mach与Etag相比较，比不上了其他不用看 直接重新下载，不用缓存里的
Last-Modified与If-Modified-Since：前者表示浏览器最后修改时间，在请求头里；后者表示最后接收时间，在响应头里；</p></div></div></div> <footer class="footer" data-v-fdbf4940><div class="footer-left-wrap" data-v-fdbf4940><ul class="contact" data-v-fdbf4940><li class="contact-item" data-v-fdbf4940><a href="https://github.com/ulivz" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-fdbf4940><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-fdbf4940><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-fdbf4940></path></svg>
          
        </a></li><li class="contact-item" data-v-fdbf4940><a href="https://twitter.com/_ulivz" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-fdbf4940><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter" data-v-fdbf4940><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z" data-v-fdbf4940></path></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-fdbf4940><ul class="copyright" data-v-fdbf4940><li class="copyright-item" data-v-fdbf4940><a href="https://policies.google.com/privacy?hl=en-US" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-fdbf4940>Privacy Policy</a></li><li class="copyright-item" data-v-fdbf4940><a href="/luckyblog/Content/.html" class="nav-link" data-v-fdbf4940>MIT Licensed | Copyright © 2018-present Vue.js</a></li></ul></div></footer></div><div class="global-ui"></div></div>
    <script src="/luckyblog/assets/js/app.c7041d7f.js" defer></script><script src="/luckyblog/assets/js/6.5a910f04.js" defer></script><script src="/luckyblog/assets/js/16.9ba42078.js" defer></script><script src="/luckyblog/assets/js/17.7631d151.js" defer></script>
  </body>
</html>
